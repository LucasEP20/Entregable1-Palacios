<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Entregable 1 - Palacios</title>
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header>
      <h1>Bienvenido a mi simulador de partido de futbol</h1>
      <p class="descripcion-simulador">
        Esta pagina te permite simular un parido de futbol ficticio entre los
        equipos que tu elijas. Puedes elegir el nombre del equipo que quieras, y
        el simulador te mostrara el resultado del partido, los goleadores y los
        jugadores de cada equipo. El partido se simula de manera aleatoria, por
        lo que cada vez que lo ejecutes, el resultado puede ser diferente. El
        simulador utiliza un algoritmo que asigna una probabilidad de gol a cada
        jugador.
      </p>
    </header>
    <main>
      <h2>Partido Simulado</h2>
      <script src="./simulador.js"></script>
      <p id="resultado"></p>

      <section class="goleadores-container">
        <div>
          <h3>Goleadores Equipo A</h3>
          <div id="goleadoresEquipoA"></div>
        </div>
        <div>
          <h3>Goleadores Equipo B</h3>
          <div id="goleadoresEquipoB"></div>
        </div>
      </section>

      <section class="equipos-container">
        <div>
          <h3>Jugadores del Equipo A</h3>
          <div id="jugadoresEquipoA"></div>
        </div>

        <div>
          <h3>Jugadores del Equipo B</h3>
          <div id="jugadoresEquipoB"></div>
        </div>
      </section>

      <script>
        const obtenerJugadores = (equipoObj) => {
          const jugadoresList = [...equipoObj.jugadores];
          if (jugadoresList.length > 0) {
            jugadoresList[0] = jugadoresList[0] + " (CapitÃ¡n)";
          }
          return jugadoresList;
        };
        const renderizarListaJugadores = (equipo, idElementoHtml) => {
          const listaContainer = document.getElementById(idElementoHtml);
          listaContainer.innerHTML = "";
          const ul = document.createElement("ul");

          if (equipo.length === 0) {
            const li = document.createElement("li");
            li.textContent = "No hubo goles.";
            ul.appendChild(li);
          } else {
            equipo.forEach((jugador) => {
              const li = document.createElement("li");
              li.textContent = jugador;
              ul.appendChild(li);
            });
          }
          listaContainer.appendChild(ul);
        };

        const resultadoPartido = simularPartido(); // Simula el partido

        document.getElementById("resultado").innerText =
          resultadoPartido.resultado;

        const listaJugadoresA = obtenerJugadores(equipoA);
        renderizarListaJugadores(listaJugadoresA, "jugadoresEquipoA");

        const listaJugadoresB = obtenerJugadores(equipoB);
        renderizarListaJugadores(listaJugadoresB, "jugadoresEquipoB");

        renderizarListaJugadores(
          resultadoPartido.goleadoresA,
          "goleadoresEquipoA"
        );
        renderizarListaJugadores(
          resultadoPartido.goleadoresB,
          "goleadoresEquipoB"
        );
      </script>
    </main>
  </body>
</html>
